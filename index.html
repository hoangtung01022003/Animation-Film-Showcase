<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phim Hoạt Hình: Phan Đình Giót - Ngọn Lửa Him Lam</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .footer-link:hover { color: #fff !important; padding-left: 5px; transition: all 0.3s; }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#mainNav" data-bs-offset="70">

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark transition-all" id="mainNav">
        <div class="container">
            <a class="navbar-brand fw-bold d-flex align-items-center" href="#">
                <i class="bi bi-star-fill text-warning me-2"></i>
                <span class="cinzel-font tracking-wide">HIM LAM 1954</span>
            </a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav text-uppercase small fw-semibold tracking-wider">
                    <li class="nav-item"><a class="nav-link px-3" href="#intro">Cốt Truyện</a></li>
                    <li class="nav-item"><a class="nav-link px-3" href="#gallery">Hình Ảnh</a></li>
                    <li class="nav-item"><a class="nav-link px-3" href="#trailer">Trailer</a></li>
                    <li class="nav-item"><a class="nav-link px-3" href="#reviews">Đánh Giá</a></li>
                </ul>
                
                <!-- User Menu -->
                <div id="userMenu" class="ms-lg-3" style="display: none;">
                    <div class="user-badge text-white">
                        <i class="bi bi-person-circle"></i>
                        <span id="userName"></span>
                        <button class="btn btn-link text-danger p-0 ms-2" onclick="logout()" title="Đăng xuất">
                            <i class="bi bi-box-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Guest Menu -->
                <div id="guestMenu" class="ms-lg-3">
                    <button class="btn btn-outline-light rounded-0 px-4 btn-ticket" data-bs-toggle="modal" data-bs-target="#authModal">
                        <i class="bi bi-person-fill me-2"></i>ĐĂNG NHẬP
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <header class="hero-section d-flex align-items-center justify-content-center text-center position-relative">
        <div class="hero-bg" style="background-image: url('assets/img/picture1.jpg');"></div>
        <div class="overlay"></div>

        <div class="container position-relative z-index-2 fade-in-up">
            <p class="text-uppercase letter-spacing-4 text-warning mb-2 small fw-bold">Dựa trên một câu chuyện có thật</p>
            <h1 class="display-1 main-title fw-bold text-white mb-3">PHAN ĐÌNH GIÓT</h1>
            <div class="divider mx-auto bg-danger mb-4"></div>
            <p class="lead subtitle mb-5 text-light fst-italic">"Quyết hy sinh... vì Đảng... vì dân!"</p>
            
            <div class="d-flex justify-content-center gap-3">
                <a href="#trailer" class="btn btn-danger btn-lg px-5 rounded-0 btn-glow d-flex align-items-center">
                    <i class="bi bi-play-circle-fill me-2 fs-5"></i> XEM TRAILER
                </a>
                <a href="#intro" class="btn btn-outline-light btn-lg px-5 rounded-0">
                    TÌM HIỂU
                </a>
            </div>
        </div>
        
        <a href="#intro" class="scroll-down text-white text-decoration-none">
            <span class="small text-uppercase">Khám phá</span>
            <i class="bi bi-chevron-down d-block mt-1"></i>
        </a>
    </header>

    <!-- INTRO SECTION -->
    <section id="intro" class="py-5 bg-dark-gradient">
        <div class="container py-5">
            <div class="row align-items-center g-5">
                <div class="col-lg-6 order-lg-2">
                    <div class="position-relative">
                        <div class="frame-border position-absolute w-100 h-100 border border-danger opacity-50" style="top: 20px; left: 20px; z-index: 0;"></div>
                        <div class="img-wrapper shadow-2 position-relative z-index-1">
                            <img src="assets/img/picture2.jpg" alt="Phan Dinh Giot" class="img-fluid w-100 filter-sepia">
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 order-lg-1">
                    <span class="badge bg-danger rounded-0 mb-3 px-3 py-2">CHIẾN DỊCH ĐIỆN BIÊN PHỦ</span>
                    <h2 class="section-title cinzel-font mb-4 text-white">NGƯỜI ANH HÙNG<br><span class="text-danger">LẤP LỖ CHÂU MAI</span></h2>
                    <!-- Đã sửa màu chữ sáng hơn (text-white) và thêm in nghiêng (fst-italic) -->
                    <p class="text-white lead fw-normal fst-italic border-start border-3 border-danger ps-3">
                        "Thà chết cho Tổ quốc được sống, còn hơn sống mà Tổ quốc lâm nguy."
                    </p>
                    <div class="text-light opacity-75 mt-4 story-text">
                        <p>Bộ phim tái hiện hành trình đầy cảm xúc của <strong>Phan Đình Giót</strong>. Từ những ngày tháng tuổi thơ cơ cực, chịu cảnh áp bức, đến khoảnh khắc giác ngộ lý tưởng cách mạng.</p>
                        <p>Cao trào là trận đánh <strong>Him Lam (13/03/1954)</strong>. Trong giây phút quyết định, khi hỏa lực địch chặn đứng đường tiến công, người chiến sĩ ấy đã lấy thân mình lấp lỗ châu mai, mở đường cho đại quân tiến lên.</p>
                    </div>
                    
                    <div class="row mt-5 text-center">
                        <div class="col-4 border-end border-secondary">
                            <h4 class="fw-bold text-white mb-0">32</h4>
                            <small class="text-muted text-uppercase">Tuổi Đời</small>
                        </div>
                        <div class="col-4 border-end border-secondary">
                            <h4 class="fw-bold text-white mb-0">1954</h4>
                            <small class="text-muted text-uppercase">Năm Hy Sinh</small>
                        </div>
                        <div class="col-4">
                            <h4 class="fw-bold text-white mb-0"><i class="bi bi-star-fill text-warning"></i></h4>
                            <small class="text-muted text-uppercase">Anh Hùng</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- GALLERY SECTION -->
    <section id="gallery" class="py-5 bg-black">
        <div class="container-fluid px-0">
            <div class="row g-0">
                <div class="col-12 text-center mb-5">
                    <p class="text-danger text-uppercase letter-spacing-4 fw-bold mb-2">Thư viện ảnh</p>
                    <h2 class="section-title text-white cinzel-font">KHOẢNH KHẮC LỊCH SỬ</h2>
                </div>
            </div>
            
            <div id="movieCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#movieCarousel" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#movieCarousel" data-bs-slide-to="1"></button>
                    <button type="button" data-bs-target="#movieCarousel" data-bs-slide-to="2"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active" data-bs-interval="4000">
                        <div class="ratio ratio-21x9 overlay-dark">
                            <img src="assets/img/picture4.jpg" class="d-block w-100 object-fit-cover" alt="Hành quân">
                        </div>
                        <div class="carousel-caption d-none d-md-block pb-5">
                            <h3 class="cinzel-font display-5 fw-bold">Đêm Trước Giờ G</h3>
                            <p class="lead">Sự tĩnh lặng trước cơn bão lửa tại Điện Biên Phủ.</p>
                        </div>
                    </div>
                    <div class="carousel-item" data-bs-interval="4000">
                        <div class="ratio ratio-21x9 overlay-dark">
                            <img src="assets/img/picture3.jpg" class="d-block w-100 object-fit-cover" alt="Trận chiến">
                        </div>
                        <div class="carousel-caption d-none d-md-block pb-5">
                            <h3 class="cinzel-font display-5 fw-bold">Xung Phong</h3>
                            <p class="lead">Quyết tâm tiêu diệt cứ điểm Him Lam.</p>
                        </div>
                    </div>
                    <div class="carousel-item" data-bs-interval="4000">
                        <div class="ratio ratio-21x9 overlay-dark">
                            <img src="assets/img/picture5.jpg" class="d-block w-100 object-fit-cover" alt="Hy sinh">
                        </div>
                        <div class="carousel-caption d-none d-md-block pb-5">
                            <h3 class="cinzel-font display-5 fw-bold">Bất Tử</h3>
                            <p class="lead">Hành động quả cảm làm rung chuyển lịch sử.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#movieCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#movieCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>
        </div>
    </section>

    <!-- TRAILER SECTION -->
    <section id="trailer" class="py-5 section-trailer position-relative">
        <div class="bg-overlay-pattern"></div>
        <div class="container py-5 position-relative z-index-2">
            <div class="text-center mb-5">
                <span class="d-inline-block border border-danger text-danger px-3 py-1 rounded-pill small fw-bold mb-3 tracking-wide">OFFICIAL TRAILER</span>
                <h2 class="section-title text-white cinzel-font display-4">XEM PHIM NGAY</h2>
            </div>
            
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="ratio ratio-16x9 shadow-lg border border-secondary glow-box">
                        <iframe 
                            src="https://drive.google.com/file/d/1fHPMho_l0BmCUntyQJDQWqSiKCfaqid8/preview"
                            allow="autoplay"
                            allowfullscreen>
                        </iframe>
                    </div>
                </div>
            </div>
            
        </div>
    </section>

    <!-- REVIEWS SECTION -->
    <section id="reviews" class="py-5 bg-darker">
        <div class="container py-5">
            <div class="row align-items-end mb-5">
                <div class="col-md-8">
                    <p class="text-secondary text-uppercase fw-bold mb-2">Đánh giá từ khán giả</p>
                    <h2 class="text-white cinzel-font">CẢM XÚC NGƯỜI XEM</h2>
                </div>
                <div class="col-md-4 text-md-end">
                    <button class="btn btn-outline-danger rounded-0 px-4" onclick="openReviewModal()">
                        <i class="bi bi-pencil-square me-2"></i> Viết Đánh Giá
                    </button>
                </div>
            </div>

            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="card bg-dark text-white border-0 h-100 p-4 shadow-sm align-items-center justify-content-center text-center glass-effect">
                        <h3 class="display-1 fw-bold text-white mb-0" id="avgRating">0.0</h3>
                        <div class="text-warning fs-4 mb-2" id="avgStars">
                            <i class="bi bi-star"></i><i class="bi bi-star"></i><i class="bi bi-star"></i><i class="bi bi-star"></i><i class="bi bi-star"></i>
                        </div>
                        <p class="text-white-50 small mb-0">Dựa trên <span id="totalReviews">0</span> lượt bình chọn</p>
                    </div>
                </div>
                
                <div class="col-lg-8">
                    <div id="reviewsContainer" class="row g-3">
                        <!-- Reviews sẽ được load động từ API -->
                        <div class="col-12 text-center">
                            <div class="spinner-border text-danger" role="status">
                                <span class="visually-hidden">Đang tải...</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pagination -->
                    <div id="reviewsPagination" class="text-center mt-4"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-5 bg-black text-white border-top border-dark">
        <div class="container">
            <div class="row g-4 mb-5">
                <!-- Cột 1: Thông tin chung -->
                <div class="col-lg-4 col-md-6">
                    <a class="navbar-brand fw-bold d-inline-block mb-3" href="#">
                        <span class="cinzel-font tracking-wide fs-3 text-white">HIM LAM 1954</span>
                    </a>
                    <!-- Đã sửa màu chữ sáng hơn (text-light) -->
                    <p class="text-light small mb-4">Dự án phim hoạt hình của nhóm sinh viên VKU tái hiện lịch sử hào hùng của dân tộc. "Thà chết cho Tổ quốc được sống, còn hơn sống mà Tổ quốc lâm nguy." Một nén tâm nhang tri ân các anh hùng liệt sĩ.</p>
                    <div class="social-links">
                        <a href="#" class="text-white me-3 fs-5"><i class="bi bi-facebook"></i></a>
                        <a href="#" class="text-white me-3 fs-5"><i class="bi bi-youtube"></i></a>
                        <a href="#" class="text-white me-3 fs-5"><i class="bi bi-tiktok"></i></a>
                        <a href="#" class="text-white me-3 fs-5"><i class="bi bi-instagram"></i></a>
                    </div>
                </div>

                <!-- Cột 2: Liên kết nhanh -->
                <div class="col-lg-2 col-md-6">
                    <h5 class="text-white mb-4 fw-bold cinzel-font">Khám Phá</h5>
                    <ul class="list-unstyled text-white small">
                        <li class="mb-2"><a href="#intro" class="text-decoration-none text-white footer-link">Cốt Truyện</a></li>
                        <li class="mb-2"><a href="#gallery" class="text-decoration-none text-white footer-link">Thư Viện Ảnh</a></li>
                        <li class="mb-2"><a href="#trailer" class="text-decoration-none text-white footer-link">Trailer</a></li>
                        <li class="mb-2"><a href="#reviews" class="text-decoration-none text-white footer-link">Đánh Giá</a></li>
                    </ul>
                </div>

                <!-- Cột 3: Liên hệ -->
                <div class="col-lg-3 col-md-6">
                    <h5 class="text-white mb-4 fw-bold cinzel-font">Liên Hệ</h5>
                    <ul class="list-unstyled text-white small">
                        <li class="mb-2"><i class="bi bi-envelope me-2 text-danger"></i> huyentt.21it@vku.udn.vn</li>
                        <li class="mb-2"><i class="bi bi-telephone me-2 text-danger"></i> 037.570.9364</li>
                        <li class="mb-2"><i class="bi bi-geo-alt me-2 text-danger"></i> Đà Nẵng, Việt Nam</li>
                    </ul>
                </div>

                <!-- Cột 4: QR Code & Mobile -->
                <div class="col-lg-3 col-md-6">
                    <h5 class="text-white mb-4 fw-bold cinzel-font">Trải Nghiệm Mobile</h5>
                    <p class="text-white small mb-3">Quét mã QR bên dưới để truy cập website trên thiết bị di động:</p>
                    <div class="bg-white p-2 d-inline-block rounded shadow-sm">
                        <!-- Tạo mã QR dẫn đến link onrender -->
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://animation-film-showcase.onrender.com/" alt="QR Code Website" class="img-fluid" style="width: 120px; height: 120px;">
                    </div>
                </div>
            </div>

            <!-- Dòng bản quyền -->
            <div class="border-top border-secondary pt-4 text-center text-white small">
                <div class="row align-items-center">
                    <div class="col-md-6 text-md-start mb-2 mb-md-0">
                        &copy; 2025 Animation Film Showcase. All rights reserved.
                    </div>
                    <div class="col-md-6 text-md-end">
                        Designed by <span class="text-white fw-bold">Thanh Huyen - Mai Nhu</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- AUTH MODAL (Đăng nhập / Đăng ký) -->
    <div class="modal fade" id="authModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title text-white cinzel-font" id="authModalLabel">Đăng Nhập</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-pills nav-justified mb-4" id="authTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="login-tab" data-bs-toggle="pill" data-bs-target="#login" type="button">Đăng Nhập</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="register-tab" data-bs-toggle="pill" data-bs-target="#register" type="button">Đăng Ký</button>
                        </li>
                    </ul>

                    <div class="tab-content" id="authTabsContent">
                        <!-- Login Form -->
                        <div class="tab-pane fade show active" id="login" role="tabpanel">
                            <form id="loginForm">
                                <div class="mb-3">
                                    <label class="form-label">Tên đăng nhập hoặc Email</label>
                                    <input type="text" class="form-control" name="username" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Mật khẩu</label>
                                    <input type="password" class="form-control" name="password" required>
                                </div>
                                <button type="submit" class="btn btn-danger w-100">
                                    <i class="bi bi-box-arrow-in-right me-2"></i>Đăng Nhập
                                </button>
                            </form>
                        </div>

                        <!-- Register Form -->
                        <div class="tab-pane fade" id="register" role="tabpanel">
                            <form id="registerForm">
                                <div class="mb-3">
                                    <label class="form-label">Tên đăng nhập</label>
                                    <input type="text" class="form-control" name="username" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" name="email" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Mật khẩu</label>
                                    <input type="password" class="form-control" name="password" required minlength="6">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Họ tên (tùy chọn)</label>
                                    <input type="text" class="form-control" name="full_name">
                                </div>
                                <button type="submit" class="btn btn-danger w-100">
                                    <i class="bi bi-person-plus me-2"></i>Đăng Ký
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- REVIEW MODAL -->
    <div class="modal fade" id="reviewModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title text-white cinzel-font">Viết Đánh Giá</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="reviewForm">
                        <input type="hidden" id="reviewId" name="reviewId">
                        
                        <div class="mb-4 text-center">
                            <label class="form-label d-block text-white mb-3">Đánh giá của bạn</label>
                            <div class="star-rating justify-content-center" id="starRating">
                                <i class="bi bi-star-fill" data-rating="1"></i>
                                <i class="bi bi-star-fill" data-rating="2"></i>
                                <i class="bi bi-star-fill" data-rating="3"></i>
                                <i class="bi bi-star-fill" data-rating="4"></i>
                                <i class="bi bi-star-fill" data-rating="5"></i>
                            </div>
                            <input type="hidden" id="ratingInput" name="rating" value="5" required>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Nhận xét của bạn</label>
                            <textarea class="form-control" name="comment" rows="4" required minlength="10" maxlength="1000" placeholder="Chia sẻ cảm nhận của bạn về bộ phim..."></textarea>
                            <small class="text-muted">Tối thiểu 10 ký tự, tối đa 1000 ký tự</small>
                        </div>

                        <button type="submit" class="btn btn-danger w-100">
                            <i class="bi bi-send me-2"></i>Gửi Đánh Giá
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/auth.js"></script>
</body>
</html>